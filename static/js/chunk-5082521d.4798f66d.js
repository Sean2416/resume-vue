(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5082521d","chunk-2d23031f"],{6292:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("loadingPage",{attrs:{loadingText:e.loadingText}}),e._v(" "),l("el-card",[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("span",[e._v("白名單查詢")])]),e._v(" "),l("el-form",{ref:"query",staticClass:"queryBlock",attrs:{size:"mini","status-icon":"",model:e.query,rules:e.rules}},[l("el-form-item",{attrs:{label:"資料型態"}},[l("el-select",{attrs:{disabled:e.queryDisable,placeholder:"请选择"},model:{value:e.query.whitelistType,callback:function(t){e.$set(e.query,"whitelistType",t)},expression:"query.whitelistType"}},e._l(e.whitelistType,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"統編/證號",prop:"identity"}},[l("el-input",{staticClass:"input-with-select",attrs:{disabled:e.queryDisable,clearable:""},model:{value:e.query.identity,callback:function(t){e.$set(e.query,"identity",t)},expression:"query.identity"}})],1),e._v(" "),l("el-form-item",{staticClass:"btnBlock"},[l("el-button",{attrs:{type:"primary",disabled:e.queryDisable},on:{click:e.getStoreInfo}},[e._v("查詢")]),e._v(" "),l("el-button",{attrs:{type:"danger"},on:{click:e.init}},[e._v("清除")])],1)],1)],1),e._v(" "),l("el-card",[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("span",[e._v("白名單清單")])]),e._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.whiteListInfoList,border:"","empty-text":"暫無資料"}},[l("el-table-column",{attrs:{label:"地圖",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-map-location"},on:{click:function(l){return e.showOnMap(t.row)}}})]}}])}),e._v(" "),l("el-table-column",{attrs:{type:"expand",label:"明細"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[l("el-form-item",{staticClass:"table-expand-item",attrs:{label:"負責人"}},[l("span",[e._v(e._s(t.row.owner))])]),e._v(" "),l("el-form-item",{staticClass:"table-expand-item",attrs:{label:"電子信箱"}},[l("span",[e._v(e._s(t.row.email))])])],1)]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"name",label:"名稱",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"taxNo",label:"統編/證號",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"phonenumber",label:"電話\t",sortable:""}}),e._v(" "),l("el-table-column",{attrs:{prop:"address",label:"地址\t",sortable:""}})],1)],1)],1)},i=[],n=l("eaf3"),r=l("b775");function s(e,t){var l={type:e,identity:t};return Object(r["a"])({url:"/whitelist/getWhiteListInfo",method:"post",withAuth:!1,data:l})}var o=l("4214"),u={name:"WhiteListQuery",components:{loadingPage:n["default"]},data:function(){return{loadingText:null,queryDisable:!1,store:{},dialogDetail:!1,query:{},whiteListInfoList:[],whitelistType:o.whitelistType,rules:{identity:[{required:!0,message:"請輸入統編/證號",trigger:["blur","change"]}]}}},mounted:function(){this.init()},methods:{init:function(){var e=this;e.query={identity:"",whitelistType:"S"},e.dialogDetail=!1,e.store={},e.whiteListInfoList=[],e.resetForm("query"),e.queryDisable=!1},getStoreInfo:function(){var e=this;e.$refs["query"].validate((function(t){t&&(e.loadingText="搜尋中",s(e.query.whitelistType,e.query.identity).then((function(t){e.loadingText=null,e.checkResponseValue(t.result,"whiteListInfo")?(e.whiteListInfoList=e.convertDataToArray(t.result.whiteListInfo),e.queryDisable=!0):e.createWarm("查無資料")})).catch((function(t){e.loadingText=null})))}))}}},c=u,d=l("2877"),f=Object(d["a"])(c,a,i,!1,null,null,null);t["default"]=f.exports},eaf3:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":e.loadingText,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}})])},i=[],n={props:{loadingText:{type:String,default:null}},data:function(){return{fullscreenLoading:!1}},watch:{loadingText:function(){this.fullscreenLoading=null!=this.loadingText}}},r=n,s=l("2877"),o=Object(s["a"])(r,a,i,!1,null,null,null);t["default"]=o.exports}}]);